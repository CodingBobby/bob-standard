const pi=3.141592653589793,pis=9.869604401089358,es=7.38905609893065,pipi=36.46215960720791,e=2.718281828459045,re=1.6487212707001282,ree=1.444667861009766,ii=.2078795763507619,ie=.36787944117144233,phi=1.618033988749895,ipi=.3183098861837907,pie=22.459157718361045,epi=23.14069263277927,gan=2.3999632297286535,chi=.5238225713898644,rtau=2.5066282746310007,rtaue=4.132731354122493,pih=1.5707963267948966,r2=1.4142135623730951,r3=1.7320508075688772,r5=2.23606797749979,llim=.6627434193491816,ln2=.6931471805599453,r45=1.4953487812212205;bob=module.exports={say,err,log,round,rand,leng,clone,pi,pis,pih,es,pipi,e,re,ree,ii,ie,phi,ipi,pie,gan,chi,rtau,rtaue,r2,r3,r5,llim,ln2,r45,epi,check:{prime,palin,int,square,cross},mat:{det,sub,rot,length,transpose,flatten,rastor},arr:{sum,test,sort,extract,remove,pick,weight},make:{string,array,matrix},Vector:class{constructor(...b){if(0==b.length)return bob.err("vector must have items");let c=[];if(b[0]instanceof bob.Vector)for(var d in b[0].v)c.push(clone(b[0].v[d]));else{"object"==typeof b[0]&&(b=b[0]);for(var d=0;d<b.length;d++)c.push([b[d]])}this.v=c,this.d=this.v.length,this.update()}update(){this.leng()}leng(){let a=0;for(var b=1;b<this.d;b++)a+=Math.hypot(this.v[b-1][0],this.v[b][0]);this.l=a}add(a){if(this.check(a))for(var b in this.v)for(var c in this.v[b])this.v[b][c]+=a.v[b][c];this.update()}sub(a){if(this.check(a))for(var b in this.v)for(var c in this.v[b])this.v[b][c]-=a.v[b][c];this.update()}norm(){for(var a in this.v)for(var b in this.v[a])this.v[a][b]/=this.l;this.update()}xprod(a){function b(a,b){a.v[0][0]=a.v[1][0]*b.v[2][0]-a.v[2][0]*b.v[1][0],a.v[1][0]=a.v[2][0]*b.v[0][0]-a.v[0][0]*b.v[2][0],a.v[2][0]=a.v[0][0]*b.v[1][0]-a.v[1][0]*b.v[0][0]}this.check(a)&&(2===this.d?(this.v.push([0]),a.v.push([0]),b(this,a)):3===this.d?b(this,a):sayError("invalid arguments")),this.update()}dprod(a){if(this.check(a)){let d=0;for(var b in this.v)for(var c in this.v[b])d+=this.v[b][c]*a.v[b][c];return d}}mult(...a){if(1===a.length){if(a=a[0],this.check(a))for(var b in this.v)this.v[b][0]*=that.v[b][0];else if("number"==typeof a)for(var b in this.v)this.v[b][0]*=a;else sayError("invalid arguments");}else if(a.length===this.d){let c=!0;for(var b in a)"number"!=typeof a[b]&&(c=!1);if(c)for(var b in this.v)this.v[b][0]*=a[b];else sayError("invalid arguments")}else sayError("invalid arguments");this.update()}clone(){return new bob.Vector(this)}print(...a){if(0===a.length)sayHelper("vector",this.v);else for(var b in a){let d=a[b].split(" ");for(var c in d)switch(d[c]){case" ":break;case"v":case"vec":case"vector":{sayHelper("vector",this.v);break}case"l":case"len":case"length":{sayHelper("length",this.l);break}case"d":case"dim":case"dimension":{sayHelper("dimensions",this.d);break}default:{sayError("invalid arguments");break}}}}check(a){return a instanceof bob.Vector&&this.d===a.d}}};function say(...a){function b(a){switch(typeof a){case"string":{console.log("\x1B[34m%s\x1B[0m",a);break}case"number":{console.log("\x1B[36m%s\x1B[0m",a);break}case"boolean":{console.log("\x1B[33m%s\x1B[0m",a);break}case"object":{console.table(a);break}case"function":break;default:{console.log("\x1B[37m%s\x1B[0m",a);break}}}if(2===a.length&&"string"==typeof a[0])sayHelper(a[0],a[1]);else if("object"==typeof a&&"object"==typeof a[0])for(var c in a){let f=a[c],g="";for(var d in f){for(var e in f[d]){let a=f[d][e].toString().length,b=length(f)[e]-a;g+=`${string(b," ")}${f[d][e]}`,d<f.length&&(g+="  ")}g+="\n\n"}b(g)}else for(var c in a){let d=a[c];b(d)}}function err(a){sayError(a)}function log(a,c){return Math.log(a)/(c?Math.log(c):1)}function round(a,b){return b=b||0,Number.parseFloat(a.toFixed(b))}function rand(a,b){return Math.random()*(b-a)+a}function leng(a){let b=0;for(var c in a)a.hasOwnProperty(c)&&b++;return b}function clone(a){if(null==a||"object"!=typeof a)return a;let b=a.constructor();for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}function prime(a){if([2,3].includes(a))return!0;let b=0==a%2?a/2:(a-1)/2;for(var c=2;c<=b;c++){let b=a/c;if(Math.round(b)===b)return!1}return!0}function palin(a){let b=parseInt(a.toString().split("").reverse().join(""));return!(a!==b)}function int(a){var b;return!isNaN(a)&&(b=Number.parseFloat(a),(0|b)===b)}function square(a){return int(Math.sqrt(a))}function sub([c,a]){return{x:c.x-a.x,y:c.y-a.y}}function det([c,a]){return c.x*a.y-c.y*a.x}function rot(a,b,c){return det([sub(b,a),sub(c,a)])}function cross(a,b,c,d){return 0>rot(a,c,d)*rot(b,c,d)}function length(a){let b=[];for(var c=0,d=0,e=0;c<a[0].length;c++){for(var f=0;f<a.length;f++){let b=a[f][c].toString().length;e=b?e<b:e,d<b&&(d=b)}b.push(d),d-=d}return b}function sum(b){let a=0;return b.forEach(b=>a+=b),a}function test(a,b){let c=[];return a.forEach(a=>{b.test(a)&&c.push(a)}),c}function sort(a,c,d){if("number"==typeof a[0]||"string"==typeof a[0]){if("function"==typeof c)return a.sort((d,a)=>c(d,a));switch(c){case"rev":case"reverse":return a.sort((c,a)=>a-c);case"split":{if(!d){sayError("no split point given");break}return a.sort((c,a)=>c<=d||a<=d?c-a:a-c)}case"rev split":case"split rev":case"split reverse":case"reverse split":{if(!d){sayError("no split point given");break}return a.sort((c,a)=>c>=d||a>=d?c-a:a-c)}case"pos split":case"split pos":{let c=clone(a.sort((c,a)=>c-a)),e=clone(a.sort((c,a)=>a-c)),f=[];d=d||Math.round(a.length/2);for(var b=0;b<a.length;b++)b<d?f.push(c[b]):f.push(e[b-d]);return f}case"pos rev split":case"rev pos split":case"split pos rev":case"split rev pos":case"pos split rev":case"rev split pos":{let c=clone(a.sort((c,a)=>c-a)),e=clone(a.sort((c,a)=>a-c)),f=[];d=d||Math.round(a.length/2);for(var b=0;b<a.length;b++)b<d?f.push(e[b]):f.push(c[b-d]);return f}default:return a.sort((c,a)=>c-a);}}else{let d,e=a.length-1;c-=1;do{d=!1;for(var b=0;b<e;b++)if(a[b][c]<a[b+1][c]){let c=a[b];a[b]=a[b+1],a[b+1]=c,d=!0}e--}while(d);return a}}function string(a,b){let c=``;for(var d=0;d<a;d++)c+=b;return c}function array(a,b){let c=[],d=b||0;for(var e=0;e<a;e++)"function"==typeof b&&(d=b()),c.push(d);return c}function matrix(a,b,d){let e=[],f=d||0;for(var g=0;g<b;g++){e.push([]);for(var h=0;h<a;h++)"function"==typeof d&&(f=d()),e[g].push(f)}return e}function transpose(a){let b=[],c=a[0].length;for(var d=0;d<c;d++)b.push([]);for(var e in a)for(var d in a[e])b[d].push(a[e][d]);return b}function flatten(a){let b=[];for(var c in a)for(var d in a[c])"function"!=typeof a[c][d]&&b.push(a[c][d]);return b}function rastor(a,b,c){if(0!=a.length%c||0!=a[0].length%b)return console.log("matching error");else{let h=[],i={x:0,y:0};for(var d=0;d<a.length/c;d++){h.push([]);for(var e=0;e<a[0].length/b;e++){h[d].push([]);for(var f=i.y;f<i.y+c;f++){h[d][e].push([]);for(var g=i.x;g<i.x+b;g++)h[d][e][f-i.y].push(a[f][g])}i.x+=b}i.y+=c,i.x=0}return h}}function extract(a,b){let c=a.split("\n"),d=RegExp(b),e=[],f=[];for(var g in c){let a=c[g];if(d.test(a))0!==f.length&&(e.push(f),f=[]);else{let b=a.split("");f.push(b.map(a=>parseInt(a)))}}return e}function weight(...a){if(1<a.length)return console.error("too many arguments");let b=a[0],c=[],d=0,e=b.map(a=>a[0]),f=b.map(a=>a[1]);for(;d<e.length;){for(var g=0;g<f[d];g++)c[c.length]=e[d];d++}return c}function remove(a,b){return a.filter(a=>!b.includes(a))}function pick(a){return a[Math.floor(Math.random()*a.length)]}function sayHelper(a,b){say("\x1B[2m"+a+": \x1B[0m\x1B[35m"+[b]+"\x1B[0m")}function sayError(a){say("\x1B[41m\x1B[36m"+a+"\x1B[0m")}Array.prototype.print=function(){say("array",this.toLocaleString())},Array.prototype.sortify=function(...a){return sort(this,...a)};
